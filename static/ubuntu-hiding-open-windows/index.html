
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Ubuntu Hiding Open Windows</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=0c5b334532">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">

    <link rel="canonical" href="http://p.umputun.com/ubuntu-hiding-open-windows/">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="Code-Lab">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Ubuntu Hiding Open Windows">
    <meta property="og:description" content="ကျွန်တော်က laptop သုံးရင် window အများကြီးဖွင့်ထားတတ်ပါတယ်။ နောက်ပိုင်းတော့ Workspace ခွဲထားပြီး workspace တစ်ခုကို သူ့သက်ဆိုင်ရာ Window တွေပဲဖွင့်တော့တယ်။ ဒါပေမယ့် Ubuntu မှာက Workspace မတူလဲ">
    <meta property="og:url" content="http://p.umputun.com/ubuntu-hiding-open-windows/">
    <meta property="article:published_time" content="2016-10-02T12:03:47.925Z">
    <meta property="article:modified_time" content="2016-10-02T12:03:47.907Z">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Ubuntu Hiding Open Windows">
    <meta name="twitter:description" content="ကျွန်တော်က laptop သုံးရင် window အများကြီးဖွင့်ထားတတ်ပါတယ်။ နောက်ပိုင်းတော့ Workspace ခွဲထားပြီး workspace တစ်ခုကို သူ့သက်ဆိုင်ရာ Window တွေပဲဖွင့်တော့တယ်။ ဒါပေမယ့် Ubuntu မှာက Workspace မတူလဲ">
    <meta name="twitter:url" content="http://p.umputun.com/ubuntu-hiding-open-windows/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="zerouplink">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Code-Lab",
        "logo": "http://p.umputun.com/ghost/img/ghosticon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "zerouplink",
        "url": "http://p.umputun.com/author/zerouplink/",
        "sameAs": []
    },
    "headline": "Ubuntu Hiding Open Windows",
    "url": "http://p.umputun.com/ubuntu-hiding-open-windows/",
    "datePublished": "2016-10-02T12:03:47.925Z",
    "dateModified": "2016-10-02T12:03:47.907Z",
    "description": "ကျွန်တော်က laptop သုံးရင် window အများကြီးဖွင့်ထားတတ်ပါတယ်။ နောက်ပိုင်းတော့ Workspace ခွဲထားပြီး workspace တစ်ခုကို သူ့သက်ဆိုင်ရာ Window တွေပဲဖွင့်တော့တယ်။ ဒါပေမယ့် Ubuntu မှာက Workspace မတူလဲ"
}
    </script>

    <meta name="generator" content="Ghost 0.8">
    <link rel="alternate" type="application/rss+xml" title="Code-Lab" href="http://p.umputun.com/rss/">
</head>
<body class="post-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-home" role="presentation"><a href="http://p.umputun.com/">Home</a></li>
    </ul>
        <a class="subscribe-button icon-feed" href="http://p.umputun.com/rss/">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post">

        <header class="post-header">
            <h1 class="post-title">Ubuntu Hiding Open Windows</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2016-10-02">02 October 2016</time> 
            </section>
        </header>

        <section class="post-content">
            <p>ကျွန်တော်က laptop သုံးရင် window အများကြီးဖွင့်ထားတတ်ပါတယ်။ နောက်ပိုင်းတော့ Workspace ခွဲထားပြီး workspace တစ်ခုကို သူ့သက်ဆိုင်ရာ Window တွေပဲဖွင့်တော့တယ်။ ဒါပေမယ့် Ubuntu မှာက Workspace မတူလဲ Unity Launcher မှာ အဲဒီ icon တွေကပေါ်နေတုန်းပဲ။ ကြာတော့ ဝင်းဒိုးတွေဖွင့်ထားတာများတော့ ဘားတစ်ခုလုံးပြည့်ပြီး ရှုတ်ကုန်တယ်။ ကျွန်တော် Google ခေါက်ပြီးရှာတော့ သူများ Launchpad ရဲ့ bugs section မှာသူများ suggestion လုပ်ထားတာလဲတွေ့ရပါတယ်။ တစ်ကယ်တော့လဲ အဲဒါကမဖြစ်သင့်တာပါ၊ workspace ချိန်းတယ်ဆိုကတည်းက ဝင်းဒိုးရှုပ်မှာဆိုးလို့ ရှင်းအောင်လုပ်တာပါ။</p>

<p>ဒါနဲ့ StackOverFlow ကနေ အောက်က answer ကိုသွားတွေ့ပါတယ်။
<a href="http://askubuntu.com/questions/305962/setting-to-only-show-applications-of-current-workspace-in-launcher/695606#695606">Stackoverflow answer</a></p>

<p>အဲဒီမှာသူရေးထားတာက <code>wmctrl</code> နဲ့ <code>xdotool</code> နှစ်ခုကိုသွင်းလိုက်ပြီး python script တစ်ခုနဲ့ထိန်းဖို့ ပေးထားတာပါ။ သူ့လုပ်ဆောင်ချက်ကတော့ တော်တော်မိုက်တယ်။ အဲဒီ python script ကို run လိုက်တာနဲ့ ဖွင့်ထားတဲ့ ဝင်းဒိုးမှန်သမျှအကုန် တန်းပြီးပျောက်သွားပါတယ်။ python script ကိုအောက်မှာပေးထားပါတယ်။</p>

<ul>
<li><p>Install wmctrl, xdotool -&gt; <code>sudo apt-get install wmctrl xdotool</code></p></li>
<li><p>Save python code -&gt; </p></li>
</ul>

<pre><code class="language-python">#!/usr/bin/env python3
import subprocess  
import os  
import time

datadir = os.environ["HOME"]+"/.config/maptoggle"  
if not os.path.exists(datadir):  
    os.makedirs(datadir)
workspace_data = datadir+"/wspacedata_"

def get_wlist(res):  
    res = get_res()
    try:
        wlist = [l.split() for l in subprocess.check_output(["wmctrl", "-lG"]).decode("utf-8").splitlines()]
        return [w for w in wlist if all([
            0 &lt; int(w[2]) &lt; res[0],
            0 &lt; int(w[3]) &lt; res[1],
            "_NET_WM_WINDOW_TYPE_NORMAL" in subprocess.check_output(["xprop", "-id", w[0]]).decode("utf-8"),
            ])]
    except subprocess.CalledProcessError:
        pass

def get_res():  
    # get resolution
    xr = subprocess.check_output(["xrandr"]).decode("utf-8").split()
    pos = xr.index("current")
    return [int(xr[pos+1]), int(xr[pos+3].replace(",", "") )]

def current(res):  
    # get the current viewport
    vp_data = subprocess.check_output(
        ["wmctrl", "-d"]
        ).decode("utf-8").split()
    dt = [int(n) for n in vp_data[3].split("x")]
    cols = int(dt[0]/res[0])
    curr_vpdata = [int(n) for n in vp_data[5].split(",")]
    curr_col = int(curr_vpdata[0]/res[0])+1
    curr_row = int(curr_vpdata[1]/res[1])
    return str(curr_col+curr_row*cols)

res = get_res()

try:  
    f = workspace_data+current(res)
    wlist = eval(open(f).read().strip())
    for w in wlist:
        subprocess.Popen(["xdotool", "windowmap", w[0]])
    os.remove(f)
except FileNotFoundError:  
    current_windows = get_wlist(res)
    open(f, "wt").write(str(current_windows))
    for w in current_windows:
        subprocess.Popen(["xdotool", "windowunmap", w[0]])
</code></pre>

<p>python code on <a href="http://pastebin.com/4DcTpjDZ">pastebin</a> <br>
Code ကိုကူးပြီး ဖိုင်တစ်ခုအနေနဲ့ Save လုပ်လိုက်ပါ။ ကျွန်တော်ကတော့ <code>toggle_visibility.py</code> ဆိုပြီးလုပ်ထားတယ်။</p>

<ul>
<li><p>System path ထဲမှာထည့်နည်း -&gt; <code>sudo ln -s ~/path/to/saved/file.py /usr/bin/anyCommandName</code>
ကျွန်တော်ကတော့ <code>~/programming/toggle_visibility.py</code> လို့ထားလိုက်တယ်။ နောက်ပြီး  <code>/usr/bin/toggle_visibility</code> လို့ထားလိုက်တယ်။ ရှည်နေလဲ ကိစ္စတော့မရှိဘူး။ Shortcut key ထားမှာပဲဥစ္စာ။</p></li>
<li><p>Set Shortcut key -&gt; <code>System Settings -&gt; Keyboards -&gt; Shortcuts -&gt; Add new</code>, Name ကတော့ ကြိုက်တာထည့်ပါ။ ကျွန်တော်ကတော့ <code>xTerminate</code> လို့ထားလိုက်တယ်။ နာမည်မိုက်လို့ :D နောက်ပြီး command မှာတော့ ခုဏက <code>/usr/bin/</code> အောက်မှာ symlink လုပ်လိုက်တဲ့ ဖိုင်နာမည်ထည့်လိုက်ပါ။ ပြီးရင် Save လုပ်ပြီး Shortcut key ကိုကိုယ်ကြိုက်ရာထားပေတော့။ ကျွန်တော်ကတော့ Ctrl + Shift + Window key ထားလိုက်တယ်။ နှိပ်ရလွယ်အောင်။</p></li>
<li><p>Done</p></li>
</ul>

<p>Screenshot</p>

<p><img src="http://i.stack.imgur.com/3jqjs.png" alt="">
<img src="http://i.stack.imgur.com/avL57.png" alt=""></p>

<p>နောက်တစ်ခုအနေနဲ့ ပြောရမှာက ဒီအောင်လေးက Workspace မှာရှိတဲ့ window ကိုပဲ hide ပေးတာပါ။ ပြန်ဖေါ်ရင်လဲ အဲဒီ workspace ထဲကဟာကိုပဲ ပြန်ဖော်ပေးမှာပါ။ အဲ.. shortcut key တစ်ခါနှိပ်ရင် အကုန်ပျောက်သွားမယ်။ နောက်တစ်ခေါက်နှိပ်ရင် အကုန်ပြန်ပေါ်လာမယ် အဲဒီ workspace မှာရှိတဲ့ဟာပဲနော်။ ဒီတော့ window တွေ hide ချင်ရင်လွယ်ပါတယ်။ အရင်ဆုံး hide မယ့်ဟာ တစ်ခြား workspace မှာသွားထားလိုက်ပါ။ ပြီးရင် shortcut key နှိပ်၊ နဂို workspace ပြန်လာ။ Window ရှုပ်တဲ့ပြဿနာရှင်းသွားပါပြီ။ <strong>Ubuntu 16.04</strong> မှာတော့ အဲဒီ feature ပါကောင်းပါနိုင်ပါတယ်။ နောက်ပြီး ဒီကောင်လေးက တော်တော်အသုံးတည့်ပါတယ်။ ကိုယ့် shortcut key သူများမသိရင် ကိုယ်ဖွက်ထားတာ ပြန်ဖော်မရနိုင်ဘူး။ ကိုယ်တစ်ခုခုလုပ်နေတဲ့အချိန်မှာ လူတစ်ယောက်ယောက်ဝင်လာရင် computer ကြီး ကောက်ပိတ်စရာမလိုတော့ဘူး။ Shortcut key လေးနှိပ်လိုက်ရင်ရပြီ။</p>

<p>Happy hiding windows</p>
        </section>

        <footer class="post-footer">



            <section class="author">
                <h4><a href="../author/zerouplink/">zerouplink</a></h4>

                    <p>Read <a href="../author/zerouplink/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Ubuntu%20Hiding%20Open%20Windows&amp;url=http://p.umputun.com/ubuntu-hiding-open-windows/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://p.umputun.com/ubuntu-hiding-open-windows/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://p.umputun.com/ubuntu-hiding-open-windows/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>


        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story prev no-cover" href="../ssh-port-forwarding/">
        <section class="post">
            <h2>SSH Port Forwarding</h2>
            <p>Why Port Forward with ssh? There might be a time when you are inside a LAN and you have…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="http://p.umputun.com">Code-Lab</a> © 2016</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=0c5b334532"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=0c5b334532"></script>

</body>
